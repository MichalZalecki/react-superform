{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///react-superform.min.js","webpack:///webpack/bootstrap b237e8777e95acdcdd44","webpack:///./src/Superform.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"_\",\"commonjs2\":\"lodash\",\"commonjs\":\"lodash\",\"amd\":\"lodash\"}","webpack:///external {\"root\":\"validator\",\"commonjs2\":\"validator\",\"commonjs\":\"validator\",\"amd\":\"validator\"}"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_Superform","_Superform2","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_defineProperty","key","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","_react","_react2","_lodash","_lodash2","_validator","_validator2","Superform","_React$Component","_this","getPrototypeOf","state","data","errors","links","submitted","event","_this2","name","_getNodeValue","_validateNode","link","_getLink","_setLink","Promise","all","_updateDataOf","_updateErrorsOf","then","_checkLinks","_this3","preventDefault","_createErrors","markAsSubmitted","_updateErrors","isFormValid","onSuccessSubmit","onErrorSubmit","_this4","resolve","setState","_this5","requestChange","handleChange","refs","omitBy","getErrors","pick","get","validity","keys","isEmpty","getErrorsOf","isSubmited","isFieldValid","error","first","message","_getMessage","rule","_parseMessage","_this6","mapValues","node","_this7","_this8","assign","fieldErrors","_this9","messages","_getCustomMessagesOf","msgDataset","dataset","JSON","parse","_getCustomMessageForRuleOf","DEFAULT_MESSAGES","Error","parsedMessage","replace","rules","_collectRules","fails","_validate","equals","_this10","fieldLinks","uniq","concat","includes","_this11","forEach","type","checked","email","url","number","pattern","required","min","getAttribute","max","minLength","maxLength","_valueExists","push","_valueMatchesPattern","isEmail","isURL","require_protocol","isNumeric","_valueIsGreaterOrEqual","_valueIsLowerOrEqual","_valueLengthIsGreaterOrEqual","_valueLengthIsLowerOrEqual","_valueEqualsValueOf","RegExp","test","parseInt","lower","Number","isNaN","stringify","higher","arguments","undefined","getValueOf","Component"],"mappings":"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","file":"react-superform.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"lodash\"), require(\"validator\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Superform\", [\"react\", \"lodash\", \"validator\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Superform\"] = factory(require(\"react\"), require(\"lodash\"), require(\"validator\"));\n\telse\n\t\troot[\"Superform\"] = factory(root[\"React\"], root[\"_\"], root[\"validator\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"lodash\"), require(\"validator\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Superform\", [\"react\", \"lodash\", \"validator\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Superform\"] = factory(require(\"react\"), require(\"lodash\"), require(\"validator\"));\n\telse\n\t\troot[\"Superform\"] = factory(root[\"React\"], root[\"_\"], root[\"validator\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\tvar _Superform = __webpack_require__(1);\n\n\tvar _Superform2 = _interopRequireDefault(_Superform);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\texports.default = _Superform2.default;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _validator = __webpack_require__(4);\n\t\n\tvar _validator2 = _interopRequireDefault(_validator);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/** Superform's Superclass */\n\t\n\tvar Superform = function (_React$Component) {\n\t  _inherits(Superform, _React$Component);\n\t\n\t  function Superform(props) {\n\t    _classCallCheck(this, Superform);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Superform).call(this, props));\n\t\n\t    _this.state = {\n\t      data: {},\n\t      errors: {},\n\t      links: {},\n\t      submitted: false\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  /**\n\t   * Called on form success submission.\n\t   *\n\t   * @param data {Object} Form data with all fields valid\n\t   */\n\t\n\t\n\t  _createClass(Superform, [{\n\t    key: \"onSuccessSubmit\",\n\t    value: function onSuccessSubmit(data) {}\n\t\n\t    /**\n\t     * Called on form failure submission.\n\t     *\n\t     * @param errors {Object} Form errors object\n\t     * @param data {Object} Form data\n\t     */\n\t\n\t  }, {\n\t    key: \"onErrorSubmit\",\n\t    value: function onErrorSubmit(errors, data) {}\n\t\n\t    /**\n\t    * Handler for input change called internally.\n\t    *\n\t    * @param event\n\t    * @return {Promise} Promise resolved when data and errors are set if any\n\t    */\n\t\n\t  }, {\n\t    key: \"handleChange\",\n\t    value: function handleChange(event) {\n\t      var _this2 = this;\n\t\n\t      var name = event.target.name;\n\t      var value = this._getNodeValue(event.target);\n\t      var errors = this._validateNode(event.target);\n\t      var link = this._getLink(event.target);\n\t\n\t      link && this._setLink(name, link);\n\t\n\t      return Promise.all([this._updateDataOf(name, value), this._updateErrorsOf(name, errors)]).then(function () {\n\t        return _this2._checkLinks(name);\n\t      });\n\t    }\n\t\n\t    /**\n\t    * Handler for form submission. Your form should call it as `onSubmit` handler.\n\t    *\n\t    * @param event\n\t    * @return {Promise} Promise resolved with `onSuccessSubmit` or `onErrorSubmit` result\n\t    */\n\t\n\t  }, {\n\t    key: \"handleSubmit\",\n\t    value: function handleSubmit(event) {\n\t      var _this3 = this;\n\t\n\t      event.preventDefault();\n\t      var errors = this._createErrors();\n\t      return this.markAsSubmitted().then(function () {\n\t        return _this3._updateErrors(errors);\n\t      }).then(function () {\n\t        return _this3.isFormValid() ? _this3.onSuccessSubmit(_this3.state.data) : _this3.onErrorSubmit(_this3.state.errors, _this3.state.data);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Marks form as submitted by setting `this.status.submitted` to `true`.\n\t     *\n\t     * @return {Promise} Promise resolved after state is set.\n\t     */\n\t\n\t  }, {\n\t    key: \"markAsSubmitted\",\n\t    value: function markAsSubmitted() {\n\t      var _this4 = this;\n\t\n\t      return new Promise(function (resolve) {\n\t        _this4.setState({ submitted: true }, resolve);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Determines whether form was submitted.\n\t     *\n\t     * @return {boolean}\n\t     */\n\t\n\t  }, {\n\t    key: \"isSubmited\",\n\t    value: function isSubmited() {\n\t      return this.state.submitted;\n\t    }\n\t\n\t    /**\n\t     * Returns value of specified field.\n\t     *\n\t     * @param name {string} Field name\n\t     * @return {string|boolean|undefined} Field value\n\t     */\n\t\n\t  }, {\n\t    key: \"getValueOf\",\n\t    value: function getValueOf(name) {\n\t      return this.state.data[name];\n\t    }\n\t\n\t    /**\n\t     * Links field value with form state. Simulates two way data binding.\n\t     *\n\t     * @param name {string} Field name\n\t     * @return {Object}\n\t     */\n\t\n\t  }, {\n\t    key: \"linkStateOf\",\n\t    value: function linkStateOf(name) {\n\t      var _this5 = this;\n\t\n\t      return {\n\t        value: this.state.data[name],\n\t        requestChange: function requestChange() {\n\t          return _this5.handleChange({ target: _this5.refs[name] });\n\t        }\n\t      };\n\t    }\n\t\n\t    /**\n\t     * Returns form data.\n\t     *\n\t     * @return {Object} Form data which is `this.state.data`\n\t     */\n\t\n\t  }, {\n\t    key: \"getData\",\n\t    value: function getData() {\n\t      return this.state.data;\n\t    }\n\t\n\t    /**\n\t     * Returns form errors.\n\t     *\n\t     * @return {Object} Form data which is `this.state.errors`\n\t     */\n\t\n\t  }, {\n\t    key: \"getErrors\",\n\t    value: function getErrors() {\n\t      return (0, _lodash2.default)(this.state.errors).omitBy(function (errors) {\n\t        return !errors.length;\n\t      }).value();\n\t    }\n\t\n\t    /**\n\t     * Returns errors of specified field.\n\t     *\n\t     * @param name {string} Field name\n\t     * @return {Array}\n\t     */\n\t\n\t  }, {\n\t    key: \"getErrorsOf\",\n\t    value: function getErrorsOf(name) {\n\t      return (0, _lodash2.default)(this.getErrors()).pick(name).get(name, []);\n\t    }\n\t\n\t    /**\n\t     * Determines whether form is valid or not based on form errors.\n\t     *\n\t     * @return {boolean}\n\t     */\n\t\n\t  }, {\n\t    key: \"isFormValid\",\n\t    value: function isFormValid() {\n\t      var validity = (0, _lodash2.default)(this.getErrors()).keys().isEmpty();\n\t\n\t      return validity;\n\t    }\n\t\n\t    /**\n\t     * Determines whether field is valid or not based on form errors.\n\t     *\n\t     * @param name {string} Field name\n\t     * @return {boolean}\n\t     */\n\t\n\t  }, {\n\t    key: \"isFieldValid\",\n\t    value: function isFieldValid(name) {\n\t      var validity = (0, _lodash2.default)(this.getErrorsOf(name)).isEmpty();\n\t\n\t      return validity;\n\t    }\n\t\n\t    /**\n\t     * Returns final error message for particular field\n\t     *\n\t     * @param name {string} Field name\n\t     * @return {string} Error message for the field\n\t     */\n\t\n\t  }, {\n\t    key: \"getErrorMessageOf\",\n\t    value: function getErrorMessageOf(name) {\n\t      if (!this.isSubmited() || this.isFieldValid(name)) return null;\n\t      var error = (0, _lodash2.default)(this.getErrorsOf(name)).first();\n\t      var message = this._getMessage(name, error.rule);\n\t      return error.data ? this._parseMessage(message, error.data) : message;\n\t    }\n\t  }, {\n\t    key: \"_createErrors\",\n\t    value: function _createErrors() {\n\t      var _this6 = this;\n\t\n\t      return (0, _lodash2.default)(this.refs).mapValues(function (node) {\n\t        return _this6._validateNode(node);\n\t      }).omitBy(function (errors) {\n\t        return !errors.length;\n\t      }).value();\n\t    }\n\t  }, {\n\t    key: \"_updateErrors\",\n\t    value: function _updateErrors(errors) {\n\t      var _this7 = this;\n\t\n\t      return new Promise(function (resolve) {\n\t        _this7.setState({ errors: errors }, resolve);\n\t      });\n\t    }\n\t  }, {\n\t    key: \"_updateDataOf\",\n\t    value: function _updateDataOf(name, value) {\n\t      var _this8 = this;\n\t\n\t      return new Promise(function (resolve) {\n\t        var data = _lodash2.default.assign({}, _this8.state.data, _defineProperty({}, name, value));\n\t        _this8.setState({ data: data }, resolve);\n\t      });\n\t    }\n\t  }, {\n\t    key: \"_updateErrorsOf\",\n\t    value: function _updateErrorsOf(name, fieldErrors) {\n\t      var _this9 = this;\n\t\n\t      return new Promise(function (resolve) {\n\t        var errors = _lodash2.default.assign({}, _this9.state.errors, _defineProperty({}, name, fieldErrors));\n\t        _this9.setState({ errors: errors }, resolve);\n\t      });\n\t    }\n\t  }, {\n\t    key: \"_getCustomMessageForRuleOf\",\n\t    value: function _getCustomMessageForRuleOf(name, rule) {\n\t      var messages = this._getCustomMessagesOf(name);\n\t      var message = messages[rule];\n\t      return message;\n\t    }\n\t  }, {\n\t    key: \"_getCustomMessagesOf\",\n\t    value: function _getCustomMessagesOf(name) {\n\t      var msgDataset = this.refs[name].dataset.messages;\n\t      var messages = msgDataset ? JSON.parse(msgDataset) : {};\n\t      return messages;\n\t    }\n\t  }, {\n\t    key: \"_getMessage\",\n\t    value: function _getMessage(name, rule) {\n\t      var message = this._getCustomMessageForRuleOf(name, rule) || this.constructor.DEFAULT_MESSAGES[rule];\n\t\n\t      if (!message) {\n\t        throw new Error(\"Superform: There is no message for such rule. Passed: \" + rule);\n\t      }\n\t\n\t      return message;\n\t    }\n\t  }, {\n\t    key: \"_parseMessage\",\n\t    value: function _parseMessage(message, data) {\n\t      var parsedMessage = message.replace(\":data\", data);\n\t      return parsedMessage;\n\t    }\n\t  }, {\n\t    key: \"_validateNode\",\n\t    value: function _validateNode(node) {\n\t      var value = this._getNodeValue(node);\n\t      var rules = this._collectRules(node);\n\t      var fails = this._validate(value, rules);\n\t      return fails;\n\t    }\n\t  }, {\n\t    key: \"_getLink\",\n\t    value: function _getLink(node) {\n\t      return node.dataset.equals || null;\n\t    }\n\t  }, {\n\t    key: \"_setLink\",\n\t    value: function _setLink(name, link) {\n\t      var _this10 = this;\n\t\n\t      return new Promise(function (resolve) {\n\t        var fieldLinks = _lodash2.default.uniq([].concat(_toConsumableArray(_this10.state.links[link] || []), [name]));\n\t        var links = _lodash2.default.assign({}, _this10.state.links, _defineProperty({}, link, fieldLinks));\n\t\n\t        if (name === link) {\n\t          throw new Error(\"Cannot cheack equality to itself: \" + link);\n\t        }\n\t\n\t        if (_lodash2.default.includes(fieldLinks, link)) {\n\t          throw new Error(\"Circular equality check: \" + link);\n\t        }\n\t\n\t        _this10.setState({ links: links }, resolve);\n\t      });\n\t    }\n\t  }, {\n\t    key: \"_checkLinks\",\n\t    value: function _checkLinks(name) {\n\t      var _this11 = this;\n\t\n\t      (this.state.links[name] || []).forEach(function (link) {\n\t        _this11.handleChange({ target: _this11.refs[link] });\n\t      });\n\t    }\n\t  }, {\n\t    key: \"_getNodeValue\",\n\t    value: function _getNodeValue(node) {\n\t      switch (node.type) {\n\t        case \"checkbox\":\n\t          return node.checked;\n\t        default:\n\t          return node.value;\n\t      }\n\t    }\n\t  }, {\n\t    key: \"_collectRules\",\n\t    value: function _collectRules(node) {\n\t      var rules = {\n\t        email: node.type === \"email\",\n\t        url: node.type === \"url\",\n\t        number: node.type === \"number\",\n\t        pattern: node.pattern,\n\t        required: node.required,\n\t        min: node.getAttribute(\"min\"),\n\t        max: node.getAttribute(\"max\"),\n\t        minLength: node.getAttribute(\"minLength\"),\n\t        maxLength: node.getAttribute(\"maxLength\"),\n\t        equals: node.dataset.equals\n\t      };\n\t      return rules;\n\t    }\n\t  }, {\n\t    key: \"_validate\",\n\t    value: function _validate(value, rules) {\n\t      var fails = [];\n\t\n\t      if (rules.required && !this._valueExists(value)) {\n\t        fails.push({ rule: \"required\" });\n\t      }\n\t\n\t      if (rules.pattern) {\n\t        if (rules.pattern && !this._valueMatchesPattern(value, rules.pattern)) {\n\t          fails.push({ rule: \"pattern\" });\n\t        }\n\t      } else {\n\t        if (rules.email && !_validator2.default.isEmail(value)) {\n\t          fails.push({ rule: \"email\" });\n\t        }\n\t\n\t        if (rules.url && !_validator2.default.isURL(value, { require_protocol: true })) {\n\t          fails.push({ rule: \"url\" });\n\t        }\n\t\n\t        if (rules.number && !_validator2.default.isNumeric(value)) {\n\t          fails.push({ rule: \"number\" });\n\t        }\n\t      }\n\t\n\t      if (rules.required || this._valueExists(value)) {\n\t        if (rules.min && !this._valueIsGreaterOrEqual(value, rules.min)) {\n\t          fails.push({ rule: \"min\", data: rules.min });\n\t        }\n\t\n\t        if (rules.max && !this._valueIsLowerOrEqual(value, rules.max)) {\n\t          fails.push({ rule: \"max\", data: rules.max });\n\t        }\n\t\n\t        if (rules.minLength && !this._valueLengthIsGreaterOrEqual(value, rules.minLength)) {\n\t          fails.push({ rule: \"minLength\", data: rules.minLength });\n\t        }\n\t\n\t        if (rules.maxLength && !this._valueLengthIsLowerOrEqual(value, rules.maxLength)) {\n\t          fails.push({ rule: \"maxLength\", data: rules.maxLength });\n\t        }\n\t      }\n\t\n\t      if (rules.equals && !this._valueEqualsValueOf(value, rules.equals)) {\n\t        fails.push({ rule: \"equals\", data: rules.equals });\n\t      }\n\t\n\t      return fails;\n\t    }\n\t  }, {\n\t    key: \"_valueMatchesPattern\",\n\t    value: function _valueMatchesPattern(value, pattern) {\n\t      return new RegExp(pattern).test(value);\n\t    }\n\t  }, {\n\t    key: \"_valueExists\",\n\t    value: function _valueExists(value) {\n\t      return !!value;\n\t    }\n\t  }, {\n\t    key: \"_valueIsGreaterOrEqual\",\n\t    value: function _valueIsGreaterOrEqual(value, min) {\n\t      var number = parseInt(value, 10);\n\t      var lower = parseInt(min, 10);\n\t      if (Number.isNaN(lower)) {\n\t        throw Error(\"Superform: Invalid \\\"min\\\" rule. Use only with numbers. Passed: \" + JSON.stringify(min));\n\t      }\n\t      if (Number.isNaN(number)) return false;\n\t      return number >= lower;\n\t    }\n\t  }, {\n\t    key: \"_valueIsLowerOrEqual\",\n\t    value: function _valueIsLowerOrEqual(value, max) {\n\t      var number = parseInt(value, 10);\n\t      var higher = parseInt(max, 10);\n\t      if (Number.isNaN(higher)) {\n\t        throw Error(\"Superform: Invalid \\\"max\\\" rule. Use only with numbers. Passed: \" + JSON.stringify(max));\n\t      }\n\t      if (Number.isNaN(number)) return false;\n\t      return number <= higher;\n\t    }\n\t  }, {\n\t    key: \"_valueLengthIsGreaterOrEqual\",\n\t    value: function _valueLengthIsGreaterOrEqual() {\n\t      var value = arguments.length <= 0 || arguments[0] === undefined ? \"\" : arguments[0];\n\t      var minLength = arguments[1];\n\t\n\t      var length = value.length;\n\t      var lower = parseInt(minLength, 10);\n\t      if (Number.isNaN(lower)) {\n\t        throw Error(\"Superform: Invalid \\\"minLength\\\" rule. Use only with numbers. Passed: \" + JSON.stringify(minLength));\n\t      }\n\t      return length >= lower;\n\t    }\n\t  }, {\n\t    key: \"_valueLengthIsLowerOrEqual\",\n\t    value: function _valueLengthIsLowerOrEqual() {\n\t      var value = arguments.length <= 0 || arguments[0] === undefined ? \"\" : arguments[0];\n\t      var maxLength = arguments[1];\n\t\n\t      var length = value.length;\n\t      var higher = parseInt(maxLength, 10);\n\t      if (Number.isNaN(higher)) {\n\t        throw Error(\"Superform: Invalid \\\"maxLength\\\" rule. Use only with numbers. Passed: \" + JSON.stringify(maxLength));\n\t      }\n\t      return length <= higher;\n\t    }\n\t  }, {\n\t    key: \"_valueEqualsValueOf\",\n\t    value: function _valueEqualsValueOf(value, equals) {\n\t      return value === this.getValueOf(equals);\n\t    }\n\t  }]);\n\t\n\t  return Superform;\n\t}(_react2.default.Component);\n\t\n\tSuperform.DEFAULT_MESSAGES = {\n\t  email: \"This is not a valid email.\",\n\t  url: \"This is not a valid URL.\",\n\t  number: \"This is not a number.\",\n\t  required: \"Field is required.\",\n\t  pattern: \"Value format is invalid.\",\n\t  min: \"Value should be greater or equal :data.\",\n\t  max: \"Value should be lower or equal :data.\",\n\t  minLength: \"Value is too short. Value length should be greater or equal :data.\",\n\t  maxLength: \"Value is too long. Value length should be lower or equal :data.\",\n\t  equals: \"Value must be the same as :data.\"\n\t};\n\t\n\texports.default = Superform;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** react-superform.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b237e8777e95acdcdd44\n **/","import React from \"react\";\nimport _ from \"lodash\";\nimport validator from \"validator\";\n\n/** Superform's Superclass */\nclass Superform extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data:      {},\n      errors:    {},\n      links:     {},\n      submitted: false,\n    };\n  }\n\n  /**\n   * Called on form success submission.\n   *\n   * @param data {Object} Form data with all fields valid\n   */\n  onSuccessSubmit(data) {}\n\n  /**\n   * Called on form failure submission.\n   *\n   * @param errors {Object} Form errors object\n   * @param data {Object} Form data\n   */\n  onErrorSubmit(errors, data) {}\n\n  /**\n  * Handler for input change called internally.\n  *\n  * @param event\n  * @return {Promise} Promise resolved when data and errors are set if any\n  */\n  handleChange(event) {\n    const name   = event.target.name;\n    const value  = this._getNodeValue(event.target);\n    const errors = this._validateNode(event.target);\n    const link   = this._getLink(event.target);\n\n    link && this._setLink(name, link);\n\n    return Promise.all([\n      this._updateDataOf(name, value),\n      this._updateErrorsOf(name, errors),\n    ]).then(() => this._checkLinks(name));\n  }\n\n  /**\n  * Handler for form submission. Your form should call it as `onSubmit` handler.\n  *\n  * @param event\n  * @return {Promise} Promise resolved with `onSuccessSubmit` or `onErrorSubmit` result\n  */\n  handleSubmit(event) {\n    event.preventDefault();\n    const errors = this._createErrors();\n    return this.markAsSubmitted()\n      .then(() => this._updateErrors(errors))\n      .then(() => this.isFormValid() ?\n        this.onSuccessSubmit(this.state.data) :\n        this.onErrorSubmit(this.state.errors, this.state.data));\n  }\n\n  /**\n   * Marks form as submitted by setting `this.status.submitted` to `true`.\n   *\n   * @return {Promise} Promise resolved after state is set.\n   */\n  markAsSubmitted() {\n    return new Promise((resolve) => {\n      this.setState({ submitted: true }, resolve);\n    });\n  }\n\n  /**\n   * Determines whether form was submitted.\n   *\n   * @return {boolean}\n   */\n  isSubmited() {\n    return this.state.submitted;\n  }\n\n  /**\n   * Returns value of specified field.\n   *\n   * @param name {string} Field name\n   * @return {string|boolean|undefined} Field value\n   */\n  getValueOf(name) {\n    return this.state.data[name];\n  }\n\n  /**\n   * Links field value with form state. Simulates two way data binding.\n   *\n   * @param name {string} Field name\n   * @return {Object}\n   */\n  linkStateOf(name) {\n    return {\n      value: this.state.data[name],\n      requestChange: () => this.handleChange({ target: this.refs[name] }),\n    };\n  }\n\n  /**\n   * Returns form data.\n   *\n   * @return {Object} Form data which is `this.state.data`\n   */\n  getData() {\n    return this.state.data;\n  }\n\n  /**\n   * Returns form errors.\n   *\n   * @return {Object} Form data which is `this.state.errors`\n   */\n  getErrors() {\n    return _(this.state.errors)\n      .omitBy(errors => !errors.length)\n      .value();\n  }\n\n  /**\n   * Returns errors of specified field.\n   *\n   * @param name {string} Field name\n   * @return {Array}\n   */\n  getErrorsOf(name) {\n    return _(this.getErrors())\n      .pick(name)\n      .get(name, []);\n  }\n\n  /**\n   * Determines whether form is valid or not based on form errors.\n   *\n   * @return {boolean}\n   */\n  isFormValid() {\n    const validity = _(this.getErrors())\n      .keys()\n      .isEmpty();\n\n    return validity;\n  }\n\n  /**\n   * Determines whether field is valid or not based on form errors.\n   *\n   * @param name {string} Field name\n   * @return {boolean}\n   */\n  isFieldValid(name) {\n    const validity = _(this.getErrorsOf(name))\n      .isEmpty();\n\n    return validity;\n  }\n\n  /**\n   * Returns final error message for particular field\n   *\n   * @param name {string} Field name\n   * @return {string} Error message for the field\n   */\n  getErrorMessageOf(name) {\n    if (!this.isSubmited() || this.isFieldValid(name)) return null;\n    const error   = _(this.getErrorsOf(name)).first();\n    const message =  this._getMessage(name, error.rule);\n    return error.data ? this._parseMessage(message, error.data) : message;\n  }\n\n  _createErrors() {\n    return _(this.refs)\n      .mapValues(node => this._validateNode(node))\n      .omitBy(errors => !errors.length)\n      .value();\n  }\n\n  _updateErrors(errors) {\n    return new Promise(resolve => {\n      this.setState({ errors }, resolve);\n    });\n  }\n\n  _updateDataOf(name, value) {\n    return new Promise(resolve => {\n      const data = _.assign({}, this.state.data, { [name]: value });\n      this.setState({ data }, resolve);\n    });\n  }\n\n  _updateErrorsOf(name, fieldErrors) {\n    return new Promise(resolve => {\n      const errors = _.assign({}, this.state.errors, { [name]: fieldErrors });\n      this.setState({ errors }, resolve);\n    });\n  }\n\n  _getCustomMessageForRuleOf(name, rule) {\n    const messages = this._getCustomMessagesOf(name);\n    const message  = messages[rule];\n    return message;\n  }\n\n  _getCustomMessagesOf(name) {\n    const msgDataset = this.refs[name].dataset.messages;\n    const messages   = msgDataset ? JSON.parse(msgDataset) : {};\n    return messages;\n  }\n\n  _getMessage(name, rule) {\n    const message = this._getCustomMessageForRuleOf(name, rule) || this.constructor.DEFAULT_MESSAGES[rule];\n\n    if (!message) {\n      throw new Error(`Superform: There is no message for such rule. Passed: ${rule}`);\n    }\n\n    return message;\n  }\n\n  _parseMessage(message, data) {\n    const parsedMessage = message.replace(\":data\", data);\n    return parsedMessage;\n  }\n\n  _validateNode(node) {\n    const value = this._getNodeValue(node);\n    const rules = this._collectRules(node);\n    const fails = this._validate(value, rules);\n    return fails;\n  }\n\n  _getLink(node) {\n    return node.dataset.equals || null;\n  }\n\n  _setLink(name, link) {\n    return new Promise(resolve => {\n      const fieldLinks = _.uniq([...(this.state.links[link] || []), name]);\n      const links = _.assign({}, this.state.links, { [link]: fieldLinks });\n\n      if (name === link) {\n        throw new Error(`Cannot cheack equality to itself: ${link}`);\n      }\n\n      if (_.includes(fieldLinks, link)) {\n        throw new Error(`Circular equality check: ${link}`);\n      }\n\n      this.setState({ links }, resolve);\n    });\n  }\n\n  _checkLinks(name) {\n    (this.state.links[name] || []).forEach(link => {\n      this.handleChange({ target: this.refs[link] })\n    });\n  }\n\n  _getNodeValue(node) {\n    switch (node.type) {\n      case \"checkbox\":\n        return node.checked;\n      default:\n        return node.value;\n    }\n  }\n\n  _collectRules(node) {\n    const rules = {\n      email:     node.type === \"email\",\n      url:       node.type === \"url\",\n      number:    node.type === \"number\",\n      pattern:   node.pattern,\n      required:  node.required,\n      min:       node.getAttribute(\"min\"),\n      max:       node.getAttribute(\"max\"),\n      minLength: node.getAttribute(\"minLength\"),\n      maxLength: node.getAttribute(\"maxLength\"),\n      equals:    node.dataset.equals,\n    };\n    return rules;\n  }\n\n  _validate(value, rules) {\n    const fails = [];\n\n    if (rules.required && !this._valueExists(value)) {\n      fails.push({ rule: \"required\" });\n    }\n\n    if (rules.pattern) {\n      if (rules.pattern && !this._valueMatchesPattern(value, rules.pattern)) {\n        fails.push({ rule: \"pattern\" });\n      }\n    } else {\n      if (rules.email && !validator.isEmail(value)) {\n        fails.push({ rule: \"email\" });\n      }\n\n      if (rules.url && !validator.isURL(value, { require_protocol: true })) {\n        fails.push({ rule: \"url\" });\n      }\n\n      if (rules.number && !validator.isNumeric(value)) {\n        fails.push({ rule: \"number\" });\n      }\n    }\n\n    if (rules.required || this._valueExists(value)) {\n      if (rules.min && !this._valueIsGreaterOrEqual(value, rules.min)) {\n        fails.push({ rule: \"min\", data: rules.min });\n      }\n\n      if (rules.max && !this._valueIsLowerOrEqual(value, rules.max)) {\n        fails.push({ rule: \"max\", data: rules.max });\n      }\n\n      if (rules.minLength && !this._valueLengthIsGreaterOrEqual(value, rules.minLength)) {\n        fails.push({ rule: \"minLength\", data: rules.minLength });\n      }\n\n      if (rules.maxLength && !this._valueLengthIsLowerOrEqual(value, rules.maxLength)) {\n        fails.push({ rule: \"maxLength\", data: rules.maxLength });\n      }\n    }\n\n    if (rules.equals && !this._valueEqualsValueOf(value, rules.equals)) {\n      fails.push({ rule: \"equals\", data: rules.equals });\n    }\n\n    return fails;\n  }\n\n  _valueMatchesPattern(value, pattern) {\n    return new RegExp(pattern).test(value);\n  }\n\n  _valueExists(value) {\n    return !!value;\n  }\n\n  _valueIsGreaterOrEqual(value, min) {\n    const number = parseInt(value, 10);\n    const lower  = parseInt(min, 10);\n    if (Number.isNaN(lower)) {\n      throw Error(`Superform: Invalid \"min\" rule. Use only with numbers. Passed: ${JSON.stringify(min)}`);\n    }\n    if (Number.isNaN(number)) return false;\n    return number >= lower;\n  }\n\n  _valueIsLowerOrEqual(value, max) {\n    const number = parseInt(value, 10);\n    const higher = parseInt(max, 10);\n    if (Number.isNaN(higher)) {\n      throw Error(`Superform: Invalid \"max\" rule. Use only with numbers. Passed: ${JSON.stringify(max)}`);\n    }\n    if (Number.isNaN(number)) return false;\n    return number <= higher;\n  }\n\n  _valueLengthIsGreaterOrEqual(value = \"\", minLength) {\n    const length = value.length;\n    const lower  = parseInt(minLength, 10);\n    if (Number.isNaN(lower)) {\n      throw Error(`Superform: Invalid \"minLength\" rule. Use only with numbers. Passed: ${JSON.stringify(minLength)}`);\n    }\n    return length >= lower;\n  }\n\n  _valueLengthIsLowerOrEqual(value = \"\", maxLength) {\n    const length = value.length;\n    const higher = parseInt(maxLength, 10);\n    if (Number.isNaN(higher)) {\n      throw Error(`Superform: Invalid \"maxLength\" rule. Use only with numbers. Passed: ${JSON.stringify(maxLength)}`);\n    }\n    return length <= higher;\n  }\n\n  _valueEqualsValueOf(value, equals) {\n    return value === this.getValueOf(equals);\n  }\n}\n\nSuperform.DEFAULT_MESSAGES = {\n  email:     \"This is not a valid email.\",\n  url:       \"This is not a valid URL.\",\n  number:    \"This is not a number.\",\n  required:  \"Field is required.\",\n  pattern:   \"Value format is invalid.\",\n  min:       \"Value should be greater or equal :data.\",\n  max:       \"Value should be lower or equal :data.\",\n  minLength: \"Value is too short. Value length should be greater or equal :data.\",\n  maxLength: \"Value is too long. Value length should be lower or equal :data.\",\n  equals:    \"Value must be the same as :data.\",\n};\n\nexport default Superform;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Superform.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs2\":\"lodash\",\"commonjs\":\"lodash\",\"amd\":\"lodash\"}\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"validator\",\"commonjs2\":\"validator\",\"commonjs\":\"validator\",\"amd\":\"validator\"}\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}